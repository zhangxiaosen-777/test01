(function(){"use strict";try{if(typeof document!="undefined"){var a=document.createElement("style");a.appendChild(document.createTextNode("@font-face{font-family:fans-num;src:url(https://activity.hdslb.com/blackboard/static/20240516/6fdde5f06d0b876f68573682fa59da66/v6u7v27Ucs.ttf)}@keyframes _jiggle_14qf7_1{0%{transform:rotate(0)}14.3%{transform:rotate(11deg)}28.6%{transform:rotate(0)}35.7%{transform:rotate(-8deg)}46.4%{transform:rotate(0)}46.4%{transform:rotate(0)}53.6%{transform:rotate(3deg)}64.3%{transform:rotate(0)}71.4%{transform:rotate(-1deg)}82.1%{transform:rotate(0)}92.8%{transform:rotate(.5deg)}to{transform:rotate(0)}}@keyframes _star_14qf7_99{0%{background-position:0 0}to{background-position:-340px 0}}._star_14qf7_99{display:inline-block;background-image:url(https://i0.hdslb.com/bfs/activity-plat/static/20240521/6fdde5f06d0b876f68573682fa59da66/a8DG0BREmj.png);background-size:340px 20px;background-repeat:no-repeat;width:20px;height:20px;animation:_star_14qf7_99 .85s steps(17)}@keyframes _light_14qf7_1{0%{background-position:-100% 0}to{background-position:60px 0}}._fans_14qf7_13{position:relative;user-select:none}._fans_14qf7_13>span{color:#fff;font-family:fans-num,sans-serif!important;font-size:12px;position:absolute;top:11px;right:39px;transform:scale(.88);transform-origin:right center;line-height:1}._specialDynamicMedalPc_14qf7_30{display:inline-block;height:33px;width:110px;overflow:hidden}._specialDynamicMedalPc_14qf7_30 ._specialDynamicMedal_14qf7_30{transform:scale(.75);transform-origin:left top}._specialDynamicMedalPc_14qf7_30 ._specialDynamicMedal_14qf7_30 ._text_14qf7_40{font-size:14px;transform:scale(1)}._specialDynamicMedal_14qf7_30{width:146px;height:44px;position:relative;user-select:none}._specialDynamicMedal_14qf7_30 ._background_14qf7_53{width:108px;height:30px;border-top-right-radius:15px;border-bottom-right-radius:15px;background-color:gray;position:absolute;top:7px;right:0;background:linear-gradient(270deg,#f8bb5b4d,#f8bb5b00)}._specialDynamicMedal_14qf7_30 ._medalImg_14qf7_66{position:absolute;right:0;top:2px}._specialDynamicMedal_14qf7_30 ._medalImg_14qf7_66._medalImgAnimation_14qf7_71{animation:_jiggle_14qf7_1 1.4s linear}._specialDynamicMedal_14qf7_30 ._text_14qf7_40{color:#fff;font-family:fans-num,sans-serif!important;font-size:12px;line-height:44px;position:absolute;top:0;right:40px;transform:scale(.67);transform-origin:right center}._specialDynamicMedal_14qf7_30 ._textMask_14qf7_88{background-image:url(https://i0.hdslb.com/bfs/activity-plat/static/20240522/6fdde5f06d0b876f68573682fa59da66/BalugIvNR2.png);background-size:contain;background-repeat:no-repeat;background-position:-100% 0;animation:_light_14qf7_1 1.1s linear;color:transparent;background-clip:text;-webkit-background-clip:text}._specialDynamicMedal_14qf7_30 ._star_14qf7_99{position:absolute;top:5px;right:3px}._backgroundImg_aob6i_1{background-position:center;background-repeat:no-repeat}._bfsImg_aob6i_6{display:block}@font-face{font-family:fans-num;src:url(https://activity.hdslb.com/blackboard/static/20240516/6fdde5f06d0b876f68573682fa59da66/v6u7v27Ucs.ttf)}@keyframes _jiggle_1aw9v_1{0%{transform:rotate(0)}14.3%{transform:rotate(11deg)}28.6%{transform:rotate(0)}35.7%{transform:rotate(-8deg)}46.4%{transform:rotate(0)}46.4%{transform:rotate(0)}53.6%{transform:rotate(3deg)}64.3%{transform:rotate(0)}71.4%{transform:rotate(-1deg)}82.1%{transform:rotate(0)}92.8%{transform:rotate(.5deg)}to{transform:rotate(0)}}@keyframes _star_1aw9v_61{0%{background-position:0 0}to{background-position:-340px 0}}._star_1aw9v_61{display:inline-block;background-image:url(https://i0.hdslb.com/bfs/activity-plat/static/20240521/6fdde5f06d0b876f68573682fa59da66/a8DG0BREmj.png);background-size:340px 20px;background-repeat:no-repeat;width:20px;height:20px;animation:_star_1aw9v_61 .85s steps(17)}@keyframes _light_1aw9v_1{0%{background-position:-100% 0}to{background-position:42px 0}}._cardBg_1aw9v_13{display:inline-block;position:relative;user-select:none;height:48px;max-width:288px;overflow:hidden}._cardBg_1aw9v_13 ._fanTextPosition_1aw9v_21{position:absolute;right:0;top:0}._fanText_1aw9v_21{height:100%;font-size:13px;line-height:16px;transform:scale(.7);transform-origin:center center;display:flex;flex-direction:column;justify-content:center;align-items:flex-start}._fanText_1aw9v_21>span{font-family:fans-num,sans-serif!important}._specialMedal_1aw9v_44{user-select:none;display:flex;align-items:center;position:relative;height:40px}._specialMedal_1aw9v_44 ._fanText_1aw9v_21{font-size:8px;line-height:10px;transform:none}._specialMedal_1aw9v_44 ._medalImgAnimation_1aw9v_57{animation:_jiggle_1aw9v_1 1.4s linear}._specialMedal_1aw9v_44 ._star_1aw9v_61{position:absolute;top:3px;left:17px}._specialMedal_1aw9v_44 ._fanTextWrap_1aw9v_67{position:relative}._specialMedal_1aw9v_44 ._textMask_1aw9v_71{position:absolute;left:0;top:0;background-image:url(https://i0.hdslb.com/bfs/activity-plat/static/20240522/6fdde5f06d0b876f68573682fa59da66/BalugIvNR2.png);background-size:auto 100%;background-repeat:no-repeat;background-position:-100% 0;animation:_light_1aw9v_1 1.1s linear;color:transparent;background-clip:text;-webkit-background-clip:text}._specialMedalPc_1aw9v_86{padding:7px 12px;display:inline-block;height:48px;max-width:288px;overflow:hidden;box-sizing:border-box}._specialMedalPc_1aw9v_86 ._specialMedal_1aw9v_44{height:33px}._specialMedalPc_1aw9v_86 ._medalImg_1aw9v_57{width:33px!important;height:33px!important}._specialMedalPc_1aw9v_86 ._star_1aw9v_61{transform:scale(.8);transform-origin:left top;left:14px;top:2px}._specialMedalPc_1aw9v_86 ._fanText_1aw9v_21{font-size:9px;line-height:11px}")),document.head.appendChild(a)}}catch(t){console.error("vite-plugin-css-injected-by-js",t)}})();
(function(h,g){typeof exports=="object"&&typeof module!="undefined"?g(exports):typeof define=="function"&&define.amd?define(["exports"],g):(h=typeof globalThis!="undefined"?globalThis:h||self,g(h.__OGV_GRAB_ASSET_EQUIPMENT__={}))})(this,function(h){"use strict";var Zt=Object.defineProperty,zt=Object.defineProperties;var en=Object.getOwnPropertyDescriptors;var tt=Object.getOwnPropertySymbols;var tn=Object.prototype.hasOwnProperty,nn=Object.prototype.propertyIsEnumerable;var nt=(h,g,y)=>g in h?Zt(h,g,{enumerable:!0,configurable:!0,writable:!0,value:y}):h[g]=y,O=(h,g)=>{for(var y in g||(g={}))tn.call(g,y)&&nt(h,y,g[y]);if(tt)for(var y of tt(g))nn.call(g,y)&&nt(h,y,g[y]);return h},D=(h,g)=>zt(h,en(g));var it=(h,g,y)=>new Promise((ae,J)=>{var ce=M=>{try{$(y.next(M))}catch(C){J(C)}},j=M=>{try{$(y.throw(M))}catch(C){J(C)}},$=M=>M.done?ae(M.value):Promise.resolve(M.value).then(ce,j);$((y=y.apply(h,g)).next())});class g{constructor(){this.target=null,this.events={}}addEventListener(t,n){if(typeof window>"u"){console.warn("EventBridge is not supported in server side");return}this.events[t]?this.events[t].push(n):this.events[t]=[n],this.target&&this.target.addEventListener(t,n)}removeEventListener(t,n){if(typeof window>"u"){console.warn("EventBridge is not supported in server side");return}if(this.target&&this.target.removeEventListener(t,n),!this.events[t].length)return;const i=this.events[t];this.events[t]=i.filter(r=>r!==n)}connect(t){this.target||!t||(this.target=t,Object.keys(this.events).forEach(n=>{this.events[n].forEach(i=>{this.addEventListener(n,i)})}))}disconnect(){if(this.target){const t=this.target;Object.keys(this.events).forEach(n=>{this.events[n].forEach(i=>{t.removeEventListener(n,i)})})}this.events={},this.target=null}}const y=()=>{};class ae{constructor(t){this.el={current:null},this.parent=null,this.props={},this.methods={},this.emits=[],this.dispose=null,this.eventBridge=new g,t&&(this.props=t)}get engine(){return{core:"custom"}}addEventListener(t,n){if(this.emits.length&&this.emits.indexOf(t)===-1){console.warn(`Event ${String(t)} is not defined in emits`);return}this.eventBridge.addEventListener(t,n)}removeEventListener(t,n){this.eventBridge.removeEventListener(t,n)}dispatchAction(t){var n;const{type:i,args:r,callback:o}=t,l=(n=this.methods)==null?void 0:n[i];if(typeof l!="function")return console.warn(`Action ${String(i)} is undefined or not a function`),y();const s=l(...r||[]);return o==null||o(s),s}update(t){const n=!!this.el.current,i=this.parent;return n&&this.unmount(),this.props=t,n&&(this.parent=i,this.render()),this}mount(t,n){return this.el.current?(console.warn("Component is already mounted"),this):this.parent?t===this.parent?this:(console.warn("Component maybe in mounting, please wait mounted, and then use update or unmount first"),this):(this.parent=t,n?this.renderAsync():this.render(),this)}unmount(){var t;if((t=this.dispose)==null||t.call(this),this.eventBridge.disconnect(),this.props={},this.methods={},this.el.current){const n=this.parent||this.el.current.parentElement;n!==this.el.current&&n!=null&&n.contains(this.el.current)&&(n.removeChild(this.el.current),this.parent=null),this.el.current=null}}}const J=e=>{const{name:t,engine:n,emits:i,render:r,renderAsync:o,renderToString:l}=e;return class extends ae{constructor(s){super(s),this.name=t,this.emits=i||[]}get engine(){return n||super.engine}render(){try{if(!this.parent)return;this.dispose=r({ref:s=>{this.el.current=s,s?this.eventBridge.connect(s):this.eventBridge.disconnect()},props:this.props,parent:this.parent,expose:s=>{this.methods=s}})}catch(s){console.error(s)}}renderAsync(){return it(this,null,function*(){try{if(!this.parent)return!1;if(o){let s,a=!1;const f=new Promise(c=>{s=()=>{a||(a=!0,c(!0))}});return this.dispose=yield o({parent:this.parent,ref:c=>{this.el.current=c,c?(s(),this.eventBridge.connect(c)):this.eventBridge.disconnect()},props:this.props,expose:c=>{this.methods=c}}),yield f}return this.render(),!!this.el.current}catch(s){return console.error(s),!1}})}renderToString(){try{return typeof l!="function"?"":l(this.props)}catch(s){return console.error(s),""}}}},ce=(e,t)=>e===t,j=Symbol("solid-proxy"),$={equals:ce};let M=Ce;const C=1,K=2,_e={owned:null,cleanups:null,context:null,owner:null};var A=null;let ue=null,rt=null,m=null,_=null,P=null,X=0;function F(e,t){const n=m,i=A,r=e.length===0,o=t===void 0?i:t,l=r?_e:{owned:null,cleanups:null,context:o?o.context:null,owner:o},s=r?e:()=>e(()=>N(()=>ee(l)));A=l,m=null;try{return H(s,!0)}finally{m=n,A=i}}function st(e,t){t=t?Object.assign({},$,t):$;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},i=r=>(typeof r=="function"&&(r=r(n.value)),Ae(n,r));return[xe.bind(n),i]}function p(e,t,n){const i=fe(e,t,!1,C);Q(i)}function ot(e,t,n){M=ut;const i=fe(e,t,!1,C);i.user=!0,P?P.push(i):Q(i)}function R(e,t,n){n=n?Object.assign({},$,n):$;const i=fe(e,t,!0,0);return i.observers=null,i.observerSlots=null,i.comparator=n.equals||void 0,Q(i),xe.bind(i)}function N(e){if(m===null)return e();const t=m;m=null;try{return e()}finally{m=t}}function lt(e){ot(()=>N(e))}function xe(){if(this.sources&&this.state)if(this.state===C)Q(this);else{const e=_;_=null,H(()=>z(this),!1),_=e}if(m){const e=this.observers?this.observers.length:0;m.sources?(m.sources.push(this),m.sourceSlots.push(e)):(m.sources=[this],m.sourceSlots=[e]),this.observers?(this.observers.push(m),this.observerSlots.push(m.sources.length-1)):(this.observers=[m],this.observerSlots=[m.sources.length-1])}return this.value}function Ae(e,t,n){let i=e.value;return(!e.comparator||!e.comparator(i,t))&&(e.value=t,e.observers&&e.observers.length&&H(()=>{for(let r=0;r<e.observers.length;r+=1){const o=e.observers[r],l=ue&&ue.running;l&&ue.disposed.has(o),(l?!o.tState:!o.state)&&(o.pure?_.push(o):P.push(o),o.observers&&Se(o)),l||(o.state=C)}if(_.length>1e6)throw _=[],new Error},!1)),t}function Q(e){if(!e.fn)return;ee(e);const t=X;at(e,e.value,t)}function at(e,t,n){let i;const r=A,o=m;m=A=e;try{i=e.fn(t)}catch(l){return e.pure&&(e.state=C,e.owned&&e.owned.forEach(ee),e.owned=null),e.updatedAt=n+1,Me(l)}finally{m=o,A=r}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?Ae(e,i):e.value=i,e.updatedAt=n)}function fe(e,t,n,i=C,r){const o={fn:e,state:i,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:A,context:A?A.context:null,pure:n};return A===null||A!==_e&&(A.owned?A.owned.push(o):A.owned=[o]),o}function Z(e){if(e.state===0)return;if(e.state===K)return z(e);if(e.suspense&&N(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<X);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(e=t[n],e.state===C)Q(e);else if(e.state===K){const i=_;_=null,H(()=>z(e,t[0]),!1),_=i}}function H(e,t){if(_)return e();let n=!1;t||(_=[]),P?n=!0:P=[],X++;try{const i=e();return ct(n),i}catch(i){n||(P=null),_=null,Me(i)}}function ct(e){if(_&&(Ce(_),_=null),e)return;const t=P;P=null,t.length&&H(()=>M(t),!1)}function Ce(e){for(let t=0;t<e.length;t++)Z(e[t])}function ut(e){let t,n=0;for(t=0;t<e.length;t++){const i=e[t];i.user?e[n++]=i:Z(i)}for(t=0;t<n;t++)Z(e[t])}function z(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const i=e.sources[n];if(i.sources){const r=i.state;r===C?i!==t&&(!i.updatedAt||i.updatedAt<X)&&Z(i):r===K&&z(i,t)}}}function Se(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=K,n.pure?_.push(n):P.push(n),n.observers&&Se(n))}}function ee(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),i=e.sourceSlots.pop(),r=n.observers;if(r&&r.length){const o=r.pop(),l=n.observerSlots.pop();i<r.length&&(o.sourceSlots[l]=i,r[i]=o,n.observerSlots[i]=l)}}if(e.owned){for(t=e.owned.length-1;t>=0;t--)ee(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function ft(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function Me(e,t=A){throw ft(e)}function u(e,t){return N(()=>e(t||{}))}function te(){return!0}const ht={get(e,t,n){return t===j?n:e.get(t)},has(e,t){return t===j?!0:e.has(t)},set:te,deleteProperty:te,getOwnPropertyDescriptor(e,t){return{configurable:!0,enumerable:!0,get(){return e.get(t)},set:te,deleteProperty:te}},ownKeys(e){return e.keys()}};function he(e){return(e=typeof e=="function"?e():e)?e:{}}function dt(){for(let e=0,t=this.length;e<t;++e){const n=this[e]();if(n!==void 0)return n}}function U(...e){let t=!1;for(let l=0;l<e.length;l++){const s=e[l];t=t||!!s&&j in s,e[l]=typeof s=="function"?(t=!0,R(s)):s}if(t)return new Proxy({get(l){for(let s=e.length-1;s>=0;s--){const a=he(e[s])[l];if(a!==void 0)return a}},has(l){for(let s=e.length-1;s>=0;s--)if(l in he(e[s]))return!0;return!1},keys(){const l=[];for(let s=0;s<e.length;s++)l.push(...Object.keys(he(e[s])));return[...new Set(l)]}},ht);const n={},i=Object.create(null);for(let l=e.length-1;l>=0;l--){const s=e[l];if(!s)continue;const a=Object.getOwnPropertyNames(s);for(let f=a.length-1;f>=0;f--){const c=a[f];if(c==="__proto__"||c==="constructor")continue;const v=Object.getOwnPropertyDescriptor(s,c);if(!i[c])i[c]=v.get?{enumerable:!0,configurable:!0,get:dt.bind(n[c]=[v.get.bind(s)])}:v.value!==void 0?v:void 0;else{const L=n[c];L&&(v.get?L.push(v.get.bind(s)):v.value!==void 0&&L.push(()=>v.value))}}}const r={},o=Object.keys(i);for(let l=o.length-1;l>=0;l--){const s=o[l],a=i[s];a&&a.get?Object.defineProperty(r,s,a):r[s]=a?a.value:void 0}return r}const gt=e=>`Stale read from <${e}>.`;function w(e){const t=e.keyed,n=R(()=>e.when,void 0,{equals:(i,r)=>t?i===r:!i==!r});return R(()=>{const i=n();if(i){const r=e.children;return typeof r=="function"&&r.length>0?N(()=>r(t?i:()=>{if(!N(n))throw gt("Show");return e.when})):r}return e.fallback},void 0,void 0)}function mt(e,t,n){let i=n.length,r=t.length,o=i,l=0,s=0,a=t[r-1].nextSibling,f=null;for(;l<r||s<o;){if(t[l]===n[s]){l++,s++;continue}for(;t[r-1]===n[o-1];)r--,o--;if(r===l){const c=o<i?s?n[s-1].nextSibling:n[o-s]:a;for(;s<o;)e.insertBefore(n[s++],c)}else if(o===s)for(;l<r;)(!f||!f.has(t[l]))&&t[l].remove(),l++;else if(t[l]===n[o-1]&&n[s]===t[r-1]){const c=t[--r].nextSibling;e.insertBefore(n[s++],t[l++].nextSibling),e.insertBefore(n[--o],c),t[r]=n[o]}else{if(!f){f=new Map;let v=s;for(;v<o;)f.set(n[v],v++)}const c=f.get(t[l]);if(c!=null)if(s<c&&c<o){let v=l,L=1,V;for(;++v<r&&v<o&&!((V=f.get(t[v]))==null||V!==c+L);)L++;if(L>c-s){const le=t[l];for(;s<c;)e.insertBefore(n[s++],le)}else e.replaceChild(n[s++],t[l++])}else l++;else t[l++].remove()}}}function ne(e,t,n,i={}){let r;return F(o=>{r=o,t===document?e():d(t,e(),t.firstChild?null:void 0,n)},i.owner),()=>{r(),t.textContent=""}}function k(e,t,n){let i;const r=()=>{const l=document.createElement("template");return l.innerHTML=e,l.content.firstChild},o=()=>(i||(i=r())).cloneNode(!0);return o.cloneNode=o,o}function de(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function x(e,t){t==null?e.removeAttribute("class"):e.className=t}function B(e,t,n){if(!t)return n?de(e,"style"):t;const i=e.style;if(typeof t=="string")return i.cssText=t;typeof n=="string"&&(i.cssText=n=void 0),n||(n={}),t||(t={});let r,o;for(o in n)t[o]==null&&i.removeProperty(o),delete n[o];for(o in t)r=t[o],r!==n[o]&&(i.setProperty(o,r),n[o]=r);return n}function d(e,t,n,i){if(n!==void 0&&!i&&(i=[]),typeof t!="function")return ie(e,t,i,n);p(r=>ie(e,t(),r,n),i)}function ie(e,t,n,i,r){for(;typeof n=="function";)n=n();if(t===n)return n;const o=typeof t,l=i!==void 0;if(e=l&&n[0]&&n[0].parentNode||e,o==="string"||o==="number")if(o==="number"&&(t=t.toString()),l){let s=n[0];s&&s.nodeType===3?s.data!==t&&(s.data=t):s=document.createTextNode(t),n=W(e,n,i,s)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t;else if(t==null||o==="boolean")n=W(e,n,i);else{if(o==="function")return p(()=>{let s=t();for(;typeof s=="function";)s=s();n=ie(e,s,n,i)}),()=>n;if(Array.isArray(t)){const s=[],a=n&&Array.isArray(n);if(ge(s,t,n,r))return p(()=>n=ie(e,s,n,i,!0)),()=>n;if(s.length===0){if(n=W(e,n,i),l)return n}else a?n.length===0?Ee(e,s,i):mt(e,n,s):(n&&W(e),Ee(e,s));n=s}else if(t.nodeType){if(Array.isArray(n)){if(l)return n=W(e,n,i,t);W(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function ge(e,t,n,i){let r=!1;for(let o=0,l=t.length;o<l;o++){let s=t[o],a=n&&n[e.length],f;if(!(s==null||s===!0||s===!1))if((f=typeof s)=="object"&&s.nodeType)e.push(s);else if(Array.isArray(s))r=ge(e,s,a)||r;else if(f==="function")if(i){for(;typeof s=="function";)s=s();r=ge(e,Array.isArray(s)?s:[s],Array.isArray(a)?a:[a])||r}else e.push(s),r=!0;else{const c=String(s);a&&a.nodeType===3&&a.data===c?e.push(a):e.push(document.createTextNode(c))}}return r}function Ee(e,t,n=null){for(let i=0,r=t.length;i<r;i++)e.insertBefore(t[i],n)}function W(e,t,n,i){if(n===void 0)return e.textContent="";const r=i||document.createTextNode("");if(t.length){let o=!1;for(let l=t.length-1;l>=0;l--){const s=t[l];if(r!==s){const a=s.parentNode===e;!o&&!l?a?e.replaceChild(r,s):e.insertBefore(r,n):a&&s.remove()}else o=!0}}else e.insertBefore(r,n);return[r]}const wt="//s1.hdslb.com/bfs/seed/water-ui/engine/solid-core.umd.js",vt=e=>new Promise((t,n)=>{const i=()=>window.Solid&&window.SolidWeb?(t(window.Solid),!0):!1;if(typeof window=="undefined")return n(new Error("not in browser"));if(i())return;const r=document.createElement("script");r.onload=()=>{i()||n(new Error("load solid fail"))},r.onerror=o=>{n(o)},r.src=e}),pt=e=>{if(e instanceof HTMLElement)for(;e.firstChild;)e.removeChild(e.firstChild)},re=e=>{const{component:t,engine:n,renderToString:i}=e,r=({ref:l,props:s,parent:a,expose:f})=>{var c,v,L,V,le,Ke;const Xe=(n==null?void 0:n.core.createRoot)||((c=window.Solid)==null?void 0:c.createRoot)||((L=(v=window.SolidCore)==null?void 0:v.Solid)==null?void 0:L.createRoot),Ze=(n==null?void 0:n.core.render)||((V=window.SolidWeb)==null?void 0:V.render)||((Ke=(le=window.SolidCore)==null?void 0:le.SolidWeb)==null?void 0:Ke.render);if(!Xe)throw new Error("Solid engine API`createRoot` is not found");if(!Ze)throw new Error("Solid engine API`render` is not found");return Xe(Xt=>{const ze=document.createElement("div");Ze(()=>t(D(O({},s),{waterExpose:f})),ze);const et=ze.firstChild;return pt(a),a.appendChild(et),l(et),Xt})},o=(n==null?void 0:n.src)||wt;return J({name:e.name,engine:{core:"solid",version:(n==null?void 0:n.version)||"",src:o},render:r,renderAsync:l=>new Promise((s,a)=>{vt(o).then(()=>{s(r(l))}).catch(a)}),renderToString:i})},E={star:"_star_14qf7_99",fans:"_fans_14qf7_13",specialDynamicMedalPc:"_specialDynamicMedalPc_14qf7_30",specialDynamicMedal:"_specialDynamicMedal_14qf7_30",text:"_text_14qf7_40",background:"_background_14qf7_53",medalImg:"_medalImg_14qf7_66",medalImgAnimation:"_medalImgAnimation_14qf7_71",jiggle:"_jiggle_14qf7_1",textMask:"_textMask_14qf7_88",light:"_light_14qf7_1"},Le={backgroundImg:"_backgroundImg_aob6i_1",bfsImg:"_bfsImg_aob6i_6"};function bt(e){return typeof e=="string"||e instanceof String}function b(e){return!isNaN(parseFloat(e))&&isFinite(e)}function me(){return typeof window!="undefined"}function yt(e){return Array.from(new Set(e.map(function(t){return JSON.stringify(t)}))).map(function(t){return JSON.parse(t)})}var _t={webp:me(),fuzzyMatch:!0,whiteList:[],webpFallback:me()?"png":"",dpr:1,ratio:1},we={isSupported:!1};function xt(){if(!me()){I(!0);return}try{var e=document.createElement("canvas");if(e.getContext&&e.getContext("2d"))try{e.toDataURL("image/webp").indexOf("data:image/webp")===0?I(!0):At()}catch(t){I(!1)}else I(!1)}catch(t){I(!1)}}function At(){var e=new Image;e.onload=function(){I(e.height===2)},e.onerror=function(){I(e.height===2)},e.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}function I(e){we.isSupported=e}xt();var Pe=function(){function e(t){this.debounceTime=1e3,this.timer=null,this.debounceTime=t}return e.prototype.set=function(t){this.clear(),this.timer=setTimeout(t,this.debounceTime)},e.prototype.clear=function(){this.timer&&clearTimeout(this.timer)},e}(),Ct=function(){function e(t){t===void 0&&(t=1e3),this.MIN_TO_COLLAPSE=2,this.warnings=[],this.errors=[],this.warningDebouncer=new Pe(t),this.errorDebouncer=new Pe(t)}return e.prototype.pushWarning=function(t){var n=this;console.groupCollapsed?(this.warnings.push(t),this.warningDebouncer.set(function(){return n.printWarnings()})):console.warn("[BFS Warning]:",t)},e.prototype.printWarnings=function(){var t=this.warnings.length>=this.MIN_TO_COLLAPSE;for(t&&console.groupCollapsed("[BFS Warning]: 有 "+this.warnings.length+" 个警告，点击查看.");this.warnings.length>0;){var n=this.warnings.shift();console.warn("[BFS Warning]:",n)}t&&console.groupEnd()},e.prototype.pushError=function(t){var n=this;console.groupCollapsed?(this.errors.push(t),this.errorDebouncer.set(function(){return n.printError()})):console.error("[BFS Error]:",t)},e.prototype.printError=function(){var t=this.errors.length>=this.MIN_TO_COLLAPSE;for(t&&console.groupCollapsed("[BFS Error]: 有 "+this.errors.length+" 个错误，点击查看.");this.errors.length>0;){var n=this.errors.shift();console.error("[BFS Error]:",n)}t&&console.groupEnd()},e}(),ke=new Ct(1e3);function q(e,t){t===void 0&&(t=!1),t&&ke.pushWarning(e)}function se(e,t){t===void 0&&(t=!1),t&&ke.pushError(e)}var $e=function(){function e(t){t===void 0&&(t=[]),this.whiteList=[],this.whiteListQuickMap={byWidth:[],byHeight:[]},t.length&&this.set(t)}return e.prototype.set=function(t){this.clear(),t.length>0&&(this.whiteList=t,this.setQuickMap())},e.prototype.get=function(){return this.whiteList},e.prototype.clear=function(){this.whiteList=[],this.initQuickMap()},e.prototype.initQuickMap=function(){this.whiteListQuickMap={byWidth:[],byHeight:[]}},e.prototype.setQuickMap=function(){var t=this;this.convertWhiteList().forEach(function(n){if(b(n.width)&&n.width>0&&b(n.height)&&n.height>0){var i=n.width/n.height;t.whiteListQuickMap[i]||(t.whiteListQuickMap[i]=[]),t.whiteListQuickMap[i].push(n)}else b(n.width)&&n.width>0?(t.whiteListQuickMap.byWidth||(t.whiteListQuickMap.byWidth=[]),t.whiteListQuickMap.byWidth.push({width:n.width,height:"auto"})):b(n.height)&&n.height>0&&(t.whiteListQuickMap.byHeight||(t.whiteListQuickMap.byHeight=[]),t.whiteListQuickMap.byHeight.push({width:"auto",height:n.height}))}),this.sortQuickMap()},e.prototype.convertWhiteList=function(){var t=this.whiteList.map(function(n){var i=n&&n.split?n.split("|"):[],r=i[0]&&b(i[0].trim())&&parseInt(i[0].trim())>0?parseInt(i[0].trim()):"auto",o=i[1]&&b(i[1].trim())&&parseInt(i[1].trim())>0?parseInt(i[1].trim()):"auto";return{width:r,height:o}});return yt(t)},e.prototype.sortQuickMap=function(){var t=this;Object.keys(this.whiteListQuickMap).forEach(function(n){var i=t.whiteListQuickMap[n],r=i.sort(function(o,l){if(b(o.width)&&b(l.width))return o.width-l.width;if(b(o.height)&&b(l.height))return o.height-l.height});t.whiteListQuickMap[n]=r})},e.prototype.getMatchedSize=function(t,n){var i=null;if(this.whiteList.length===0)return t;var r={width:"auto",height:"auto"};b(t.width)&&t.width>0&&b(t.height)&&t.height>0?i=t.width/t.height:b(t.width)&&t.width>0?i="byWidth":b(t.height)&&t.height>0&&(i="byHeight");var o=i?this.whiteListQuickMap[i]:[];if(o&&o.length>0){var l=n?this.fuzzyMatch(o,t):this.exactMatch(o,t);l.length>0?(r=l[0],(t.width!==r.width||t.height!==r.height)&&q(t.width+" x "+t.height+" 在白名单中不存在，向上匹配得到 "+r.width+" x "+r.height)):q("找不到与 "+t.width+" x "+t.height+" 匹配的白名单尺寸. 将使用原始尺寸.")}else q("找不到与 "+t.width+" x "+t.height+" 匹配的白名单尺寸. 将使用原始尺寸.");return r},e.prototype.fuzzyMatch=function(t,n){return t.filter(function(i){return b(i.width)?i.width>=n.width:i.height>=n.height})},e.prototype.exactMatch=function(t,n){return t.filter(function(i){return b(i.width)?i.width===n.width:i.height===n.height})},e}();function Ie(e){return e==="auto"&&typeof window!="undefined"&&window.devicePixelRatio?Number(window.devicePixelRatio)||1:Number(e)>0?Number(e):1}function ve(e){if(e&&e.split)return e.split(".").pop().toLowerCase()}function St(e){if(!e||!bt(e))return se("URL 应该为 string 类型."),!1;var t=["jpg","jpeg","png","webp","gif"];return t.indexOf(ve(e))===-1?(se(e+" 不是支持的文件格式."),!1):(ve(e)==="webp"&&q(e+" 是webp格式的文件。建议通过配置参数 webp: true 使用webp格式，以便在不支持的浏览器上降级."),e.indexOf("/bfs/")===-1?(q(e+" 不是 bfs 路径."),!1):!0)}function Mt(e){var t="";return e&&e.split&&(t=e.split("?")[1]),t}function Et(e){var t=e;if(e&&e.slice&&e.indexOf){var n=e.indexOf("?");n>-1&&(t=e.slice(0,n))}return t}function Te(e,t){return t&&t!==""?e+"?"+t:e}function pe(e){var t=e;if(e&&e.slice&&e.indexOf){var n=e.indexOf("@");n>-1&&(t=e.slice(0,n))}return t}function be(e,t,n){return e+=e.indexOf("@")===-1?"@":"_",e+=n+t,e}function Oe(e){return e.indexOf("@")>-1}function Lt(e,t,n,i,r){var o=i.getMatchedSize({width:t,height:n},r.fuzzyMatch),l=o.width,s=o.height,a=Ie(r.dpr),f=r.ratio||1;return b(l)&&l>0&&(e=be(e,"w",Math.floor(l*a*f))),b(s)&&s>0&&(e=be(e,"h",Math.floor(s*a*f))),e}function Pt(e,t){var n=["e","p","c","rc","a","bl","q","o","s"];return n.forEach(function(i){t[i]!==void 0&&(e=be(e,i,t[i]))}),e}function kt(e,t){return e}function $t(e,t){var n=ve(pe(e)),i=n;return t.webp&&(n!=="gif"||t.s)&&we.isSupported&&(i="webp"),!we.isSupported&&i==="webp"&&t.webpFallback&&(i=t.webpFallback),!Oe(e)&&n!==i?e+="@."+i:Oe(e)&&(e+="."+i),e}function It(e){var t=Ie(e.dpr),n=Number(e.ratio)||1,i=t*n;if(i===1)return e;if(e.a)if(!/^\d+-\d+-\d+-\d+$/.test(e.a))se(e.a+"不是有效的高级裁剪参数. 请参考 https://info.bilibili.co/pages/viewpage.action?pageId=4545261 正确设置");else{var r=e.a.split("-");e.a=r.map(function(l){return Math.floor(Number(l)*i)}).join("-")}if(e.rc)if(!/^\d+x\d+-[1-9]$/.test(e.rc))se(e.rc+"不是有效的区域裁剪参数. 请参考 https://info.bilibili.co/pages/viewpage.action?pageId=4545261 正确设置");else{var r=e.rc.split("-"),o=r[0].split("x");e.rc=o.map(function(s){return Math.floor(Number(s)*i)}).join("x")+("-"+r[1])}return e}var Tt=function(){function e(t){t===void 0&&(t={}),this.defaultOpts=_t,this.whiteList=new $e,Object.assign(this.defaultOpts,t),this.setWhiteList(this.defaultOpts.whiteList)}return e.prototype.getImageLink=function(t,n,i,r){n===void 0&&(n="auto"),i===void 0&&(i="auto"),r===void 0&&(r={});var o=Object.assign({},this.defaultOpts,r),l=r.whiteList?new $e(r.whiteList):this.whiteList,s=Mt(t);return t=Et(t),St(pe(t))&&(It(o),t=pe(t),t=Lt(t,n,i,l,o),t=kt(t,o.watermark),t=Pt(t,o),t=$t(t,o)),Te(t,s)},e.prototype.getWhiteList=function(){return this.whiteList.get()},e.prototype.setWhiteList=function(t){t===void 0&&(t=[]),this.whiteList.set(t)},e.prototype.clearWhiteList=function(){this.whiteList.clear()},e}(),Ot=k("<div>"),Nt=k("<img>");const Bt=new Tt,Y=e=>{const t=U({fit:"cover"},e),n=()=>{if(!t.src)return"";if(/^data:/.test(t.src))return t.src;const r=t.src.replace("http://","https://");if(r.includes("gif")||r.includes(".svg"))return r;let o=typeof window=="undefined"?2:window.devicePixelRatio;return o=o>2?o:2,Bt.getImageLink(r,t.width?Math.ceil(t.width*o):"auto",t.height?Math.ceil(t.height*o):"auto",{webp:!0,webpFallback:"png"})},i=()=>{const r=o=>typeof e.pxHandle=="function"?e.pxHandle(o):o+"px";return{width:t.width?r(t.width):"auto",height:t.height?r(t.height):"auto"}};return u(w,{get when(){return t.src},get children(){return[u(w,{get when(){return t.background},get children(){var r=Ot();return d(r,()=>t.children),p(o=>{var l=`${Le.backgroundImg} ${e.class||""}`,s=D(O({},i()),{"background-size":t.fit,"background-image":`url(${n()})`});return l!==o.e&&x(r,o.e=l),o.t=B(r,s,o.t),o},{e:void 0,t:void 0}),r}}),u(w,{get when(){return!t.background},get children(){var r=Nt();return p(o=>{var l=n(),s=`${Le.bfsImg} ${e.class||""}`,a=D(O({},i()),{"object-fit":t.fit}),f=t.alt;return l!==o.e&&de(r,"src",o.e=l),s!==o.t&&x(r,o.t=s),o.a=B(r,a,o.a),f!==o.o&&de(r,"alt",o.o=f),o},{e:void 0,t:void 0,a:void 0,o:void 0}),r}})]}})};var T=(e=>(e[e.NORMAL=1]="NORMAL",e[e.FAN=2]="FAN",e[e.SPECIAL_DYNAMIC_MEDAL=3]="SPECIAL_DYNAMIC_MEDAL",e))(T||{}),Ne=(e=>(e.PC="pc",e.H5="h5",e))(Ne||{});const Wt=({colors:e,gradients:t},{width:n,height:i}={width:1,height:1})=>{if(!(e!=null&&e.length)||!(t!=null&&t.length))return"";const r=(l,s)=>Math.atan2(s,l)*180/Math.PI+90,o=e.map((l,s)=>`${l} ${t[s]}%`).join(",");return`linear-gradient(${r(n,i)}deg, ${o})`};function Be(e,t=0){return!e||!/^#([0-9a-fA-F]{6})$/.test(e)?"rgba(0,0,0,0)":"rgba("+parseInt("0x"+e.slice(1,3))+","+parseInt("0x"+e.slice(3,5))+","+parseInt("0x"+e.slice(5,7))+","+t+")"}const Dt=(e,t)=>{const n=O({},e);return Object.keys(e).forEach(i=>{n[i]=t}),n},We=()=>{const e={medal:[0,1400],text:[750,1750],star:[1750,3e3]},[t,n]=st(Dt(e,!1));lt(()=>{i()});const i=()=>{let r=null;r&&clearTimeout(r),Object.keys(e).forEach(o=>{const[l,s]=e[o];setTimeout(()=>{n(D(O({},t()),{[o]:!0}))},l),setTimeout(()=>{n(D(O({},t()),{[o]:!1}))},s)}),r=setTimeout(()=>{i()},4e3)};return t},De=e=>(e==null?void 0:e.num_desc)||(e!=null&&e.number?`000000${e==null?void 0:e.number}`.substring(String(e==null?void 0:e.number).length):""),je=e=>{const t=e==null?void 0:e.color_format;if(t){const n=Wt(t||{});if(n)return{"background-image":n,"-webkit-text-fill-color":"transparent","-webkit-background-clip":"text","background-clip":"text"}}return{color:e==null?void 0:e.color}},Fe=(e,t)=>(t==null?void 0:t.type)===1?T.SPECIAL_DYNAMIC_MEDAL:e!=null&&e.is_fan?T.FAN:T.NORMAL,Re=e=>e==null?void 0:e.effect_visual;var oe=k("<span>"),jt=k("<div><div>"),Ft=k("<div>");let Qe;const He=e=>{const t=We();return(()=>{var n=jt(),i=n.firstChild;return d(n,u(Y,{get src(){var r;return(r=e.effect)==null?void 0:r.medal_image},width:40,height:40,fit:"contain",get class(){return`${E.medalImg} ${t().medal?E.medalImgAnimation:""}`},pxHandle:Qe}),null),d(n,u(w,{get when(){return e.text},get children(){return[(()=>{var r=oe();return d(r,()=>e.text),p(o=>{var l=e.textStyle,s=E.text;return o.e=B(r,l,o.e),s!==o.t&&x(r,o.t=s),o},{e:void 0,t:void 0}),r})(),u(w,{get when(){return t().text},get children(){var r=oe();return d(r,()=>e.text),p(()=>x(r,`${E.text} ${E.textMask}`)),r}}),u(w,{get when(){return t().star},get children(){var r=oe();return p(()=>x(r,E.star)),r}})]}}),null),p(r=>{var a,f;var o=`${E.specialDynamicMedal}`,l=E.background,s=`linear-gradient(270deg, ${Be((a=e.effect)==null?void 0:a.color_theme,.3)} 0%, ${Be((f=e.effect)==null?void 0:f.color_theme,0)} 100%)`;return o!==r.e&&x(n,r.e=o),l!==r.t&&x(i,r.t=l),s!==r.a&&((r.a=s)!=null?i.style.setProperty("background",s):i.style.removeProperty("background")),r},{e:void 0,t:void 0,a:void 0}),n})()},Rt=e=>u(w,{get when(){return e.uiType},get children(){return[u(w,{get when(){return e.uiType===T.NORMAL},get children(){return u(Y,{get src(){return e.url},width:60,height:34,fit:"contain"})}}),u(w,{get when(){return e.uiType===T.FAN},get children(){return u(Y,{get src(){return e.url},width:110,height:33,fit:"contain",background:!0,get class(){return E.fans},get children(){return u(w,{get when(){return e.text},get children(){var t=oe();return d(t,()=>e.text),p(n=>B(t,e.textStyle,n)),t}})}})}}),u(w,{get when(){return e.uiType===T.SPECIAL_DYNAMIC_MEDAL},get children(){return R(()=>e.scene==="pc")()?(()=>{var t=Ft();return d(t,u(He,e)),p(()=>x(t,E.specialDynamicMedalPc)),t})():u(He,e)}})]}}),Ue=e=>(Qe=e.pxHandle,u(Rt,U(()=>({uiType:Fe(e.fan,e.image_group),url:e.card_url,text:De(e.fan),textStyle:je(e.fan),effect:Re(e.image_group),scene:e.scene})))),Qt=e=>u(Ue,U(()=>({fan:e.fan,card_url:e.card_url,image_group:e.image_group,scene:Ne.PC})));var G=(e=>(e[e.NORMAL=1]="NORMAL",e[e.FAN=2]="FAN",e[e.SPECIAL_DYNAMIC_MEDAL=3]="SPECIAL_DYNAMIC_MEDAL",e))(G||{}),qe=(e=>(e.PC="pc",e.H5="h5",e))(qe||{});const S={star:"_star_1aw9v_61",cardBg:"_cardBg_1aw9v_13",fanTextPosition:"_fanTextPosition_1aw9v_21",fanText:"_fanText_1aw9v_21",specialMedal:"_specialMedal_1aw9v_44",medalImgAnimation:"_medalImgAnimation_1aw9v_57",jiggle:"_jiggle_1aw9v_1",fanTextWrap:"_fanTextWrap_1aw9v_67",textMask:"_textMask_1aw9v_71",light:"_light_1aw9v_1",specialMedalPc:"_specialMedalPc_1aw9v_86",medalImg:"_medalImg_1aw9v_57"};var Ye=k("<div><span></span><span>"),Ht=k("<div><div><span></span><span>"),Ut=k("<span>"),ye=k("<div>");let Ge;const Ve=e=>{const t=We();return(()=>{var n=ye();return d(n,u(Y,{get src(){var i;return(i=e.effect)==null?void 0:i.medal_image},width:40,height:40,fit:"contain",get class(){return`${S.medalImg} ${t().medal?S.medalImgAnimation:""}`},pxHandle:Ge}),null),d(n,u(w,{get when(){return e.text},get children(){var i=Ht(),r=i.firstChild,o=r.firstChild,l=o.nextSibling;return d(o,()=>e.textPrefix),d(l,()=>e.text),d(i,u(w,{get when(){return t().text},get children(){var s=Ye(),a=s.firstChild,f=a.nextSibling;return d(a,()=>e.textPrefix),d(f,()=>e.text),p(()=>x(s,`${S.fanText} ${S.textMask}`)),s}}),null),p(s=>{var a=S.fanTextWrap,f=e.textStyle,c=S.fanText;return a!==s.e&&x(i,s.e=a),s.t=B(r,f,s.t),c!==s.a&&x(r,s.a=c),s},{e:void 0,t:void 0,a:void 0}),i}}),null),d(n,u(w,{get when(){return t().star},get children(){var i=Ut();return p(()=>x(i,S.star)),i}}),null),p(()=>x(n,`${S.specialMedal}`)),n})()},qt=e=>u(w,{get when(){return e.uiType},get children(){return[u(w,{get when(){return e.uiType===G.NORMAL||e.uiType===G.FAN},get children(){var t=ye();return d(t,u(w,{get when(){return e.url},get children(){return u(Y,{get src(){return e.url},height:48})}}),null),d(t,u(w,{get when(){return e.uiType===G.FAN&&e.text},get children(){var n=Ye(),i=n.firstChild,r=i.nextSibling;return d(i,()=>e.textPrefix),d(r,()=>e.text),p(o=>{var l=e.textStyle,s=`${S.fanText} ${S.fanTextPosition}`;return o.e=B(n,l,o.e),s!==o.t&&x(n,o.t=s),o},{e:void 0,t:void 0}),n}}),null),p(()=>x(t,S.cardBg)),t}}),u(w,{get when(){return e.uiType===G.SPECIAL_DYNAMIC_MEDAL},get children(){return R(()=>e.scene==="pc")()?(()=>{var t=ye();return d(t,u(Ve,e)),p(()=>x(t,S.specialMedalPc)),t})():u(Ve,e)}})]}}),Je=e=>(Ge=e.pxHandle,u(qt,U(()=>{var n;return{uiType:Fe(e.fan,e.image_group),url:e.image,text:De(e.fan),textStyle:je(e.fan),effect:Re(e.image_group),textPrefix:((n=e.fan)==null?void 0:n.num_prefix)||"NO.",scene:e.scene}}))),Yt=e=>{const t=()=>e.card_bg||{};return u(Je,U(()=>({fan:t().fan,image:t().image,image_group:t().image_group,scene:qe.PC})))},Gt=re({name:"CardForPC",component:Qt,engine:{core:{createRoot:F,render:ne}}}),Vt=re({name:"CardBgForPC",component:Yt,engine:{core:{createRoot:F,render:ne}}}),Jt=re({name:"CardCommon",component:Ue,engine:{core:{createRoot:F,render:ne}}}),Kt=re({name:"CardCommon",component:Je,engine:{core:{createRoot:F,render:ne}}});h.CardBgCommon=Kt,h.CardBgForWeb=Vt,h.CardCommon=Jt,h.CardForWeb=Gt,Object.defineProperty(h,Symbol.toStringTag,{value:"Module"})});
